import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o as t,c,a as s,b as n,d as l,e as o}from"./app-1d01caa0.js";const r={},i=s("p",null,"::: center 格机代码一览 :::",-1),y=s("h3",{id:"这里是哪",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#这里是哪","aria-hidden":"true"},"#"),n(" 这里是哪？")],-1),B=s("p",null,"这里是记录格机代码的地方",-1),d=s("h3",{id:"为什么要记录格机代码",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#为什么要记录格机代码","aria-hidden":"true"},"#"),n(" 为什么要记录格机代码？")],-1),F={href:"https://yosunair.github.io/Yosunair-Flash-Home/",target:"_blank",rel:"noopener noreferrer"},v=o('<h3 id="相关知识" tabindex="-1"><a class="header-anchor" href="#相关知识" aria-hidden="true">#</a> 相关知识</h3><h4 id="什么是格机" tabindex="-1"><a class="header-anchor" href="#什么是格机" aria-hidden="true">#</a> 什么是格机？</h4><p>格机指的是对 Android(Linux) 设备的系统进行不同程度的破坏，较轻的丢失手机数据，严重的则会导致设备损坏，需要进行较为底层的刷机(例如9008)，有些甚至需要拆机短接或者直接更换主板</p><h4 id="为什么会有格机" tabindex="-1"><a class="header-anchor" href="#为什么会有格机" aria-hidden="true">#</a> 为什么会有格机？</h4><p>Magisk/KernelSU(虽然KernelSU的出现较晚，但是KernelSU基本兼容Magisk模块，这里便提上了)的模块功能不免会使某些牟利者在其中做出一些行为，通过在模块的安装/启动脚本里面添加格机代码来破坏使用者的设备(更有甚者会在模块里加入联网下载格机的功能，导致了可能一开始模块使用正常，后续牟利者收网，所有使用者一起被格机)，这是牟利者就会提供修复服务来赚取服务费，达到其目的，使得使用者数据、钱财两失</p><p>还有一种情况则是使用了被添加了格机代码的软件/作弊器导致的格机，相关原理都差不多</p><h4 id="格机从何而来" tabindex="-1"><a class="header-anchor" href="#格机从何而来" aria-hidden="true">#</a> 格机从何而来？</h4>',7),b={href:"https://landley.net/toybox/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/topjohnwu/ndk-busybox",target:"_blank",rel:"noopener noreferrer"},A=s("code",null,"rm -rf /*",-1),f=s("code",null,"rm -rf $变量/",-1),u=s("h4",{id:"如何预防格机",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#如何预防格机","aria-hidden":"true"},"#"),n(" 如何预防格机？")],-1),E={href:"https://github.com/BuerApp/RootGuard",target:"_blank",rel:"noopener noreferrer"},C=o(`<h2 id="代码一览" tabindex="-1"><a class="header-anchor" href="#代码一览" aria-hidden="true">#</a> 代码一览</h2><h6 id="文章会先解析指令-后放出完整的格机代码" tabindex="-1"><a class="header-anchor" href="#文章会先解析指令-后放出完整的格机代码" aria-hidden="true">#</a> 文章会先解析指令，后放出完整的格机代码</h6><h6 id="以下代码都需要root权限执行" tabindex="-1"><a class="header-anchor" href="#以下代码都需要root权限执行" aria-hidden="true">#</a> 以下代码都需要root权限执行</h6><div class="hint-container info"><p class="hint-container-title">如何检测是否使用root权限执行的内容？</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-u</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#获取用户id，root为0</span></span>
<span class="line"><span style="color:#61AFEF;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-g</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#获取用户组id，root为0</span></span>
<span class="line"><span style="color:#61AFEF;">whoami</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#获取用户名称，root为root</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,4),h={id:"部分知识可见-谷歌官方文档",tabindex:"-1"},D=s("a",{class:"header-anchor",href:"#部分知识可见-谷歌官方文档","aria-hidden":"true"},"#",-1),_={href:"https://source.android.google.cn/docs/core/ota?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"},k=o(`<h3 id="_1、rm" tabindex="-1"><a class="header-anchor" href="#_1、rm" aria-hidden="true">#</a> 1、rm</h3><p>“rm”是Linux的删除指令，用于删除文件/目录，也是常见的格机代码，它通过删除设备上的文件来达到格机效果，通常来说，较新机型一般系统分区都是只读，所以只会删除/data目录及/mnt/vendor/persist目录(persist是存储例如指纹校准信息的地方，删除会使指纹失效，需要重新校准)，所以只需要格式化data就可以正常启动手机，但是在较旧机型或者手动修改系统分区使之可读写的设备上，它可能导致更严重地破坏系统(会删除系统分区文件)，届时需要重新线刷完整包来正常启动手机</p><details class="hint-container details"><summary>代码示例</summary><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除根目录下所有文件(删除系统分区文件需要支持读写，内核/内存分区无效)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/data</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除所有用户数据(软件及数据、音视频图片、文档等)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/storage/emulated/0</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除用户0的所有数据(软件存储在此的数据、音视频图片、文档等)(用户id为0的是主用户(指的是多用户中的设备用户，不是系统用户组/用户)，其他则是多开用户等)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/storage/sdcard</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除用户的所有数据(较旧安卓版本的存储目录，因为不支持多用户，所以只有一个目录)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/storage</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除所有用户及内容提供者的数据</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/cache</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除缓存分区内文件(无任何破坏性)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/mnt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除所有设备的文件(包括所有用户的存储数据，persist分区，OTG设备及TF卡等)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/system</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除system分区内的所有文件(需要支持读写)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/vendor</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除vendor分区内的所有文件(需要支持读写)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/product</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除product分区内的所有文件(需要支持读写)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/odm</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除odm分区内的所有文件(需要支持读写)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/system_ext</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除system_ext分区内的所有文件(需要支持读写)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/sys</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除内核映射分区内文件(此操作无效)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/proc</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除内存映射分区内文件(此操作无效)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除tmpfs分区内文件(此操作理论无效)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="_2、dd" tabindex="-1"><a class="header-anchor" href="#_2、dd" aria-hidden="true">#</a> 2、dd</h3><p>“dd”是一个创建/修改文件的指令，用源文件的内容填充指定文件，是最常见的格机代码，格机通常通过/dev/zero(空文件)来填充设备分区，达到破坏系统分区，使设备无法正常启动(如果涉及到了引导等分区，则会直接黑砖) 值得一提的是，开机状态下如果内核有限制，那么dd也是无效的(例如联发科旧型号CPU锁定boot分区，导致Magisk无法开机替换boot更新)，但是在BootLoader或者FastBoot模式下，这些分区通常是可以正常清除的，某些格机代码也会潜藏在刷机脚本内</p><details class="hint-container details"><summary>代码示例</summary><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=路径</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#bs指一个输入块的大小，count指输入块的个数，此代码可以把指定文件修改成10b大小</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 为了节约时间，下面的代码采用循环展示</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/sd</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block目录下所有以sd开头的设备文件(例如 sd[a-c])来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/dm</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block目录下所有以dm开头的设备文件(例如 dm-[0-3])来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/ram</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block目录下所有以ram开头的设备文件(例如 ram[0-3])来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/loop</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block目录下所有以loop开头的设备文件(例如 loop[0-3])来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/by-name/</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block/by-name目录下的所有分区文件来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/bootdevice/by-name/</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block/bootdevice/by-name目录下的所有分区文件来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/mapper/</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  [[ </span><span style="color:#56B6C2;">-d</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;\${</span><span style="color:#E06C75;">i</span><span style="color:#98C379;">}&quot;</span><span style="color:#ABB2BF;"> ]] || </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block/mapper目录下的所有分区文件来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 对于分区路径的解释：</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#  大部分设备的分区路径是 /dev/block/by-name ，部分旧设备是 /dev/block/bootdevice/by-name ， /dev/block/mapper 是super分区(动态分区的系统分区合区)内的子分区文件(有些不属于super分区，而是属于其子分区)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=$(</span><span style="color:#61AFEF;">magisk</span><span style="color:#98C379;"> </span><span style="color:#D19A66;">--path</span><span style="color:#98C379;">)/.magisk/block/system_root</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#通过获取Magisk缓存路径映射的分区路径来修改文件(在新版本Magisk已被移除)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="_3、adb-android-debug-bridge" tabindex="-1"><a class="header-anchor" href="#_3、adb-android-debug-bridge" aria-hidden="true">#</a> 3、adb(Android Debug Bridge)</h3><p>“adb”是可在Windows、Linux等系统上调试安卓设备的工具(也可以安卓设备调试其他安卓设备，或者安卓设备调试自身)，通过<code>adb root</code>即可让安卓设备内adbd进程提升为root权限(默认为shell)，或者使用<code>adb shell su -c &quot;指令&quot;</code>也可以直接使用root权限执行内容(注意，前提是你给安卓设备上的“Shell”应用授权了root权限)，所以adb可以用于从电脑端进行格机</p><details class="hint-container details"><summary>代码示例</summary><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">adb shell su </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">c </span><span style="color:#98C379;">&quot;rm -rf /&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#由于是调用安卓设备上的shell环境，执行的内容与其他指令相同</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></details><h3 id="_4、fastboot" tabindex="-1"><a class="header-anchor" href="#_4、fastboot" aria-hidden="true">#</a> 4、fastboot</h3><p>“fastboot”是可以在设备的BootLoader/FastBoot模式进行刷写的工具，一般用于刷机，但是其清除/格式化功能也可以进行格机</p><details class="hint-container details"><summary>代码示例</summary><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">fastboot </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">w </span><span style="color:#7F848E;font-style:italic;">#清除并格式化存储及缓存分区</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase userdata </span><span style="color:#7F848E;font-style:italic;">#清除存储分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase boot_ab </span><span style="color:#7F848E;font-style:italic;">#清除内核双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase boot </span><span style="color:#7F848E;font-style:italic;">#清除内核单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase init_boot_ab </span><span style="color:#7F848E;font-style:italic;">#清除内核双槽分区(Android 13+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase init_boot </span><span style="color:#7F848E;font-style:italic;">#清除内核单槽分区(Android 13+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase vendor_boot_ab </span><span style="color:#7F848E;font-style:italic;">#清除定制化内核双槽分区(gki1.0+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase vendor_boot </span><span style="color:#7F848E;font-style:italic;">#清除定制化内核单槽分区(gki1.0+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase vbmeta_ab </span><span style="color:#7F848E;font-style:italic;">#清除分区校验双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase vbmeta </span><span style="color:#7F848E;font-style:italic;">#清除分区校验单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase logo_ab </span><span style="color:#7F848E;font-style:italic;">#清除联发科等设备的双槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase logo </span><span style="color:#7F848E;font-style:italic;">#清除联发科等设备的单槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase splash_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通等设备的双槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase splash </span><span style="color:#7F848E;font-style:italic;">#清除高通等设备的单槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase super </span><span style="color:#7F848E;font-style:italic;">#清除动态分区的super分区(super只有一个，里面分区为双分区为ab分区，单分区为only a或vab分区)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase system_ab </span><span style="color:#7F848E;font-style:italic;">#清除系统双槽分区(非动态分区或FastBoot模式内)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase system </span><span style="color:#7F848E;font-style:italic;">#清除系统单槽分区(非动态分区或FastBoot模式内)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase lk_ab </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase lk </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase uefi_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase uefi </span><span style="color:#7F848E;font-style:italic;">#清除高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase xbl_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase xbl </span><span style="color:#7F848E;font-style:italic;">#清除高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase abl_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase abl </span><span style="color:#7F848E;font-style:italic;">#清除高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase cdt </span><span style="color:#7F848E;font-style:italic;">#清除高通设备参数分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase modem_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通基带双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase modem </span><span style="color:#7F848E;font-style:italic;">#清除高通基带单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase preloader_raw_ab </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase preloader_raw </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase preloader_ab </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase preloader </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase cust </span><span style="color:#7F848E;font-style:italic;">#清除自定义分区(例如MIUI存储推广应用，但是不代表可以随便清除)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase persist </span><span style="color:#7F848E;font-style:italic;">#清除校准数据分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase metadata </span><span style="color:#7F848E;font-style:italic;">#清除data加密信息</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase recovery_ab </span><span style="color:#7F848E;font-style:italic;">#清除恢复双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase recovery </span><span style="color:#7F848E;font-style:italic;">#清除恢复单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase nvcfg </span><span style="color:#7F848E;font-style:italic;">#清除联发科nvcfg分区(貌似是设备cfg校验信息)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase nvdata </span><span style="color:#7F848E;font-style:italic;">#清除联发科nvdata分区(基带信息)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase nvram </span><span style="color:#7F848E;font-style:italic;">#清除联发科nvram分区(imei信息)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format userdata </span><span style="color:#7F848E;font-style:italic;">#格式化存储分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format boot_ab </span><span style="color:#7F848E;font-style:italic;">#格式化内核双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format boot </span><span style="color:#7F848E;font-style:italic;">#格式化内核单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format init_boot_ab </span><span style="color:#7F848E;font-style:italic;">#格式化内核双槽分区(Android 13+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format init_boot </span><span style="color:#7F848E;font-style:italic;">#格式化内核单槽分区(Android 13+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format vendor_boot_ab </span><span style="color:#7F848E;font-style:italic;">#格式化定制化内核双槽分区(gki1.0+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format vendor_boot </span><span style="color:#7F848E;font-style:italic;">#格式化定制化内核单槽分区(gki1.0+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format vbmeta_ab </span><span style="color:#7F848E;font-style:italic;">#格式化分区校验双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format vbmeta </span><span style="color:#7F848E;font-style:italic;">#格式化分区校验单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format logo_ab </span><span style="color:#7F848E;font-style:italic;">#格式化联发科等设备的双槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format logo </span><span style="color:#7F848E;font-style:italic;">#格式化联发科等设备的单槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format splash_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通等设备的双槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format splash </span><span style="color:#7F848E;font-style:italic;">#格式化高通等设备的单槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format super </span><span style="color:#7F848E;font-style:italic;">#格式化动态分区的super分区(super只有一个，里面分区为双分区为ab分区，单分区为only a或vab分区)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format system_ab </span><span style="color:#7F848E;font-style:italic;">#格式化系统双槽分区(非动态分区或FastBoot模式内)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format system </span><span style="color:#7F848E;font-style:italic;">#格式化系统单槽分区(非动态分区或FastBoot模式内)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format lk_ab </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format lk </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format uefi_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format uefi </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format xbl_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format xbl </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format abl_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format abl </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format cdt </span><span style="color:#7F848E;font-style:italic;">#格式化高通设备参数分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format modem_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通基带双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format modem </span><span style="color:#7F848E;font-style:italic;">#格式化高通基带单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format preloader_raw_ab </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format preloader_raw </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format preloader_ab </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format preloader </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format cust </span><span style="color:#7F848E;font-style:italic;">#格式化自定义分区(例如MIUI存储推广应用，但是不代表可以随便格式化)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format persist </span><span style="color:#7F848E;font-style:italic;">#格式化校准数据分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format metadata </span><span style="color:#7F848E;font-style:italic;">#格式化data加密信息</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format recovery_ab </span><span style="color:#7F848E;font-style:italic;">#格式化恢复双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format recovery </span><span style="color:#7F848E;font-style:italic;">#格式化恢复单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format nvcfg </span><span style="color:#7F848E;font-style:italic;">#格式化联发科nvcfg分区(貌似是设备cfg校验信息)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format nvdata </span><span style="color:#7F848E;font-style:italic;">#格式化联发科nvdata分区(基带信息)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format nvram </span><span style="color:#7F848E;font-style:italic;">#格式化联发科nvram分区(imei信息)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition system </span><span style="color:#7F848E;font-style:italic;">#删除super内system分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition vendor </span><span style="color:#7F848E;font-style:italic;">#删除super内vendor分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition product </span><span style="color:#7F848E;font-style:italic;">#删除super内product分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition odm </span><span style="color:#7F848E;font-style:italic;">#删除super内odm分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition system_ext </span><span style="color:#7F848E;font-style:italic;">#删除super内system_ext分区</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="_5、mv" tabindex="-1"><a class="header-anchor" href="#_5、mv" aria-hidden="true">#</a> 5、mv</h3><p>“mv”是Linux移动文件/文件夹的指令，可以移动/替换路径，替换的功能便运用到了格机上面</p><details class="hint-container details"><summary>代码示例</summary><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/bootdevice/by-name/boot</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换单槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/bootdevice/by-name/boot_a</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换a槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/bootdevice/by-name/boot_b</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换b槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/by-name/boot</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换单槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/by-name/boot_a</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换a槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/by-name/boot_b</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换b槽boot为空</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 对于分区路径的解释：</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#  大部分设备的分区路径是 /dev/block/by-name ，部分旧设备是 /dev/block/bootdevice/by-name</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="_6、重定向操作符" tabindex="-1"><a class="header-anchor" href="#_6、重定向操作符" aria-hidden="true">#</a> 6、重定向操作符</h3><p>重定向操作符(“&gt;&gt;”、“&gt;”)可以让绝大部分指令，例如echo、printf、cat、chmod、chattr等指令都能够进行格机操作(通过将指令的输出内容重定向到指定路径来达到创建/修改文件的效果)</p><details class="hint-container details"><summary>代码示例</summary><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#56B6C2;">echo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为空</span></span>
<span class="line"><span style="color:#61AFEF;">ls</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为根目录各个分区名称</span></span>
<span class="line"><span style="color:#61AFEF;">cat</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为空</span></span>
<span class="line"><span style="color:#61AFEF;">chmod</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-R</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/data/adb</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为空</span></span>
<span class="line"><span style="color:#61AFEF;">chattr</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">+i</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/data/adb</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为空</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="完整格机代码" tabindex="-1"><a class="header-anchor" href="#完整格机代码" aria-hidden="true">#</a> 完整格机代码</h2><details class="hint-container details"><summary>Android Shell</summary><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 1、rm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除根目录下所有文件(删除系统分区文件需要支持读写，内核/内存分区无效)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/data</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除所有用户数据(软件及数据、音视频图片、文档等)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/storage/emulated/0</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除用户0的所有数据(软件存储在此的数据、音视频图片、文档等)(用户id为0的是主用户(指的是多用户中的设备用户，不是系统用户组/用户)，其他则是多开用户等)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/storage/sdcard</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除用户的所有数据(较旧安卓版本的存储目录，因为不支持多用户，所以只有一个目录)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/storage</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除所有用户及内容提供者的数据</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/cache</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除缓存分区内文件(无任何破坏性)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/mnt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除所有设备的文件(包括所有用户的存储数据，persist分区，OTG设备及TF卡等)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/system</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除system分区内的所有文件(需要支持读写)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/vendor</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除vendor分区内的所有文件(需要支持读写)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/product</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除product分区内的所有文件(需要支持读写)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/odm</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除odm分区内的所有文件(需要支持读写)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/system_ext</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除system_ext分区内的所有文件(需要支持读写)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/sys</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除内核映射分区内文件(此操作无效)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/proc</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除内存映射分区内文件(此操作无效)</span></span>
<span class="line"><span style="color:#61AFEF;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-rf</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#删除tmpfs分区内文件(此操作理论无效)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 2、dd</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=路径</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#bs指一个输入块的大小，count指输入块的个数，此代码可以把指定文件修改成10b大小</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 为了节约时间，下面的代码采用循环展示</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/sd</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block目录下所有以sd开头的设备文件(例如 sd[a-c])来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/dm</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block目录下所有以dm开头的设备文件(例如 dm-[0-3])来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/ram</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block目录下所有以ram开头的设备文件(例如 ram[0-3])来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/loop</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block目录下所有以loop开头的设备文件(例如 loop[0-3])来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/by-name/</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block/by-name目录下的所有分区文件来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/bootdevice/by-name/</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block/bootdevice/by-name目录下的所有分区文件来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">ls</span><span style="color:#98C379;"> /dev/block/mapper/</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">)</span><span style="color:#ABB2BF;"> ; </span><span style="color:#C678DD;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">  [[ </span><span style="color:#56B6C2;">-d</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;\${</span><span style="color:#E06C75;">i</span><span style="color:#98C379;">}&quot;</span><span style="color:#ABB2BF;"> ]] || </span><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=</span><span style="color:#ABB2BF;">\${</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#C678DD;">done</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#此代码通过获取/dev/block/mapper目录下的所有分区文件来修改文件(ls 带“*”的路径会直接输出完整路径)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 对于分区路径的解释：</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#  大部分设备的分区路径是 /dev/block/by-name ，部分旧设备是 /dev/block/bootdevice/by-name ， /dev/block/mapper 是super分区(动态分区的系统分区合区)内的子分区文件(有些不属于super分区，而是属于其子分区)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">dd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if=/dev/zero</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">of=$(</span><span style="color:#61AFEF;">magisk</span><span style="color:#98C379;"> </span><span style="color:#D19A66;">--path</span><span style="color:#98C379;">)/.magisk/block/system_root</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">bs=</span><span style="color:#D19A66;">1</span><span style="color:#98C379;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">count=</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#通过获取Magisk缓存路径映射的分区路径来修改文件(在新版本Magisk已被移除)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 3、mv</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/bootdevice/by-name/boot</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换单槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/bootdevice/by-name/boot_a</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换a槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/bootdevice/by-name/boot_b</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换b槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/by-name/boot</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换单槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/by-name/boot_a</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换a槽boot为空</span></span>
<span class="line"><span style="color:#61AFEF;">mv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/block/by-name/boot_b</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#替换b槽boot为空</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 对于分区路径的解释：</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#  大部分设备的分区路径是 /dev/block/by-name ，部分旧设备是 /dev/block/bootdevice/by-name</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 4、重定向操作符</span></span>
<span class="line"></span>
<span class="line"><span style="color:#56B6C2;">echo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为空</span></span>
<span class="line"><span style="color:#61AFEF;">ls</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为根目录各个分区名称</span></span>
<span class="line"><span style="color:#61AFEF;">cat</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/dev/null</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为空</span></span>
<span class="line"><span style="color:#61AFEF;">chmod</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-R</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/data/adb</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为空</span></span>
<span class="line"><span style="color:#61AFEF;">chattr</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">+i</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/data/adb</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">/dev/block/by-name/cdt</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#修改高通设备参数分区为空</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>Windows 终端</summary><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 1、adb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">adb shell su </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">c </span><span style="color:#98C379;">&quot;rm -rf /&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#由于是调用安卓设备上的shell环境，执行的内容与其他指令相同</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 2、fastboot</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">fastboot </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">w </span><span style="color:#7F848E;font-style:italic;">#清除并格式化存储及缓存分区</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase userdata </span><span style="color:#7F848E;font-style:italic;">#清除存储分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase boot_ab </span><span style="color:#7F848E;font-style:italic;">#清除内核双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase boot </span><span style="color:#7F848E;font-style:italic;">#清除内核单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase init_boot_ab </span><span style="color:#7F848E;font-style:italic;">#清除内核双槽分区(Android 13+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase init_boot </span><span style="color:#7F848E;font-style:italic;">#清除内核单槽分区(Android 13+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase vendor_boot_ab </span><span style="color:#7F848E;font-style:italic;">#清除定制化内核双槽分区(gki1.0+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase vendor_boot </span><span style="color:#7F848E;font-style:italic;">#清除定制化内核单槽分区(gki1.0+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase vbmeta_ab </span><span style="color:#7F848E;font-style:italic;">#清除分区校验双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase vbmeta </span><span style="color:#7F848E;font-style:italic;">#清除分区校验单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase logo_ab </span><span style="color:#7F848E;font-style:italic;">#清除联发科等设备的双槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase logo </span><span style="color:#7F848E;font-style:italic;">#清除联发科等设备的单槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase splash_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通等设备的双槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase splash </span><span style="color:#7F848E;font-style:italic;">#清除高通等设备的单槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase super </span><span style="color:#7F848E;font-style:italic;">#清除动态分区的super分区(super只有一个，里面分区为双分区为ab分区，单分区为only a或vab分区)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase system_ab </span><span style="color:#7F848E;font-style:italic;">#清除系统双槽分区(非动态分区或FastBoot模式内)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase system </span><span style="color:#7F848E;font-style:italic;">#清除系统单槽分区(非动态分区或FastBoot模式内)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase lk_ab </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase lk </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase uefi_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase uefi </span><span style="color:#7F848E;font-style:italic;">#清除高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase xbl_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase xbl </span><span style="color:#7F848E;font-style:italic;">#清除高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase abl_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase abl </span><span style="color:#7F848E;font-style:italic;">#清除高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase cdt </span><span style="color:#7F848E;font-style:italic;">#清除高通设备参数分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase modem_ab </span><span style="color:#7F848E;font-style:italic;">#清除高通基带双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase modem </span><span style="color:#7F848E;font-style:italic;">#清除高通基带单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase preloader_raw_ab </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase preloader_raw </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase preloader_ab </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase preloader </span><span style="color:#7F848E;font-style:italic;">#清除联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase cust </span><span style="color:#7F848E;font-style:italic;">#清除自定义分区(例如MIUI存储推广应用，但是不代表可以随便清除)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase persist </span><span style="color:#7F848E;font-style:italic;">#清除校准数据分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase metadata </span><span style="color:#7F848E;font-style:italic;">#清除data加密信息</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase recovery_ab </span><span style="color:#7F848E;font-style:italic;">#清除恢复双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase recovery </span><span style="color:#7F848E;font-style:italic;">#清除恢复单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase nvcfg </span><span style="color:#7F848E;font-style:italic;">#清除联发科nvcfg分区(貌似是设备cfg校验信息)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase nvdata </span><span style="color:#7F848E;font-style:italic;">#清除联发科nvdata分区(基带信息)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot erase nvram </span><span style="color:#7F848E;font-style:italic;">#清除联发科nvram分区(imei信息)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format userdata </span><span style="color:#7F848E;font-style:italic;">#格式化存储分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format boot_ab </span><span style="color:#7F848E;font-style:italic;">#格式化内核双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format boot </span><span style="color:#7F848E;font-style:italic;">#格式化内核单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format init_boot_ab </span><span style="color:#7F848E;font-style:italic;">#格式化内核双槽分区(Android 13+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format init_boot </span><span style="color:#7F848E;font-style:italic;">#格式化内核单槽分区(Android 13+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format vendor_boot_ab </span><span style="color:#7F848E;font-style:italic;">#格式化定制化内核双槽分区(gki1.0+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format vendor_boot </span><span style="color:#7F848E;font-style:italic;">#格式化定制化内核单槽分区(gki1.0+)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format vbmeta_ab </span><span style="color:#7F848E;font-style:italic;">#格式化分区校验双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format vbmeta </span><span style="color:#7F848E;font-style:italic;">#格式化分区校验单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format logo_ab </span><span style="color:#7F848E;font-style:italic;">#格式化联发科等设备的双槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format logo </span><span style="color:#7F848E;font-style:italic;">#格式化联发科等设备的单槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format splash_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通等设备的双槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format splash </span><span style="color:#7F848E;font-style:italic;">#格式化高通等设备的单槽开机第一屏</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format super </span><span style="color:#7F848E;font-style:italic;">#格式化动态分区的super分区(super只有一个，里面分区为双分区为ab分区，单分区为only a或vab分区)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format system_ab </span><span style="color:#7F848E;font-style:italic;">#格式化系统双槽分区(非动态分区或FastBoot模式内)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format system </span><span style="color:#7F848E;font-style:italic;">#格式化系统单槽分区(非动态分区或FastBoot模式内)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format lk_ab </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format lk </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format uefi_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format uefi </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format xbl_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format xbl </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format abl_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format abl </span><span style="color:#7F848E;font-style:italic;">#格式化高通引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format cdt </span><span style="color:#7F848E;font-style:italic;">#格式化高通设备参数分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format modem_ab </span><span style="color:#7F848E;font-style:italic;">#格式化高通基带双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format modem </span><span style="color:#7F848E;font-style:italic;">#格式化高通基带单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format preloader_raw_ab </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format preloader_raw </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format preloader_ab </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format preloader </span><span style="color:#7F848E;font-style:italic;">#格式化联发科引导单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format cust </span><span style="color:#7F848E;font-style:italic;">#格式化自定义分区(例如MIUI存储推广应用，但是不代表可以随便格式化)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format persist </span><span style="color:#7F848E;font-style:italic;">#格式化校准数据分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format metadata </span><span style="color:#7F848E;font-style:italic;">#格式化data加密信息</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format recovery_ab </span><span style="color:#7F848E;font-style:italic;">#格式化恢复双槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format recovery </span><span style="color:#7F848E;font-style:italic;">#格式化恢复单槽分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format nvcfg </span><span style="color:#7F848E;font-style:italic;">#格式化联发科nvcfg分区(貌似是设备cfg校验信息)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format nvdata </span><span style="color:#7F848E;font-style:italic;">#格式化联发科nvdata分区(基带信息)</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot format nvram </span><span style="color:#7F848E;font-style:italic;">#格式化联发科nvram分区(imei信息)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition system </span><span style="color:#7F848E;font-style:italic;">#删除super内system分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition vendor </span><span style="color:#7F848E;font-style:italic;">#删除super内vendor分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition product </span><span style="color:#7F848E;font-style:italic;">#删除super内product分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition odm </span><span style="color:#7F848E;font-style:italic;">#删除super内odm分区</span></span>
<span class="line"><span style="color:#ABB2BF;">fastboot delete</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">logical</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">partition system_ext </span><span style="color:#7F848E;font-style:italic;">#删除super内system_ext分区</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2>`,22),g={id:"如果你想要测试以上格机代码-那么建议拿你自己的手机实机测试-本文章需要传播的是防范知识而不是格机代码。如果你也需要像rootguard一样写一个格机示例-那么欢迎对本文章进行摘录",tabindex:"-1"},x=s("a",{class:"header-anchor",href:"#如果你想要测试以上格机代码-那么建议拿你自己的手机实机测试-本文章需要传播的是防范知识而不是格机代码。如果你也需要像rootguard一样写一个格机示例-那么欢迎对本文章进行摘录","aria-hidden":"true"},"#",-1),$={href:"https://github.com/BuerApp/RootGuard#%E5%B8%B8%E8%A7%81%E6%A0%BC%E6%9C%BA%E5%91%BD%E4%BB%A4",target:"_blank",rel:"noopener noreferrer"},w=s("h4",{id:"防止格机的最好方法是不去冒险",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#防止格机的最好方法是不去冒险","aria-hidden":"true"},"#"),n(" 防止格机的最好方法是不去冒险")],-1);function z(M,q){const a=p("ExternalLinkIcon");return t(),c("div",null,[i,y,B,d,s("p",null,[n("这是一个在2022年就开始的项目，主要是为了更好地辨识格机代码，但是开始不久后便没有怎么维护了，在建立本站之初，连它的域名都被清除了，目前在"),s("a",F,[n("GitHub.io"),l(a)]),n("上仍然可以访问此项目")]),v,s("p",null,[n("众所周知，安卓系统(包括套壳安卓系统的鸿蒙系统)是基于Linux的系统，所以有着不是很完整的Shell指令集("),s("a",b,[n("Toybox"),l(a)]),n("(实际上自带的Toybox也不是完整的))，实际上即便有了Magisk的"),s("a",m,[n("Busybox"),l(a)]),n("，指令集依然不太完整(Magisk的Busybox只是保证用到的指令集在不同设备上是相同的)，但是这足以实现很多格机操作，比如说著名的"),A,n("在安卓设备上都是可以使用的(本人亲身实验过(写代码"),f,n("忘定义变量导致的悲剧))，所以，牟利者可以在安卓设备上进行“花式”的格机行为")]),u,s("p",null,[n("你可以使用内核模块屏蔽/循环检测阻止的方法来防止执行格机代码，这里推荐使用内核模块 "),s("a",E,[n("RootGuard"),l(a)]),n("(需要内核版本5.10+)，本人有幸多次测试此模块帮助开发者改进使得它可以在天玑8100 CPU的设备上正常运行，并且为此项目提供了格机代码示例 但是，有一点必须知道，只有不去盲目执行/安装才是预防格机的最好方法")]),C,s("h6",h,[D,n(" 部分知识可见 "),s("a",_,[n("谷歌官方文档"),l(a)])]),k,s("h4",g,[x,n(" 如果你想要测试以上格机代码，那么建议拿你自己的手机实机测试，本文章需要传播的是防范知识而不是格机代码。如果你也需要像"),s("a",$,[n("RootGuard"),l(a)]),n("一样写一个格机示例，那么欢迎对本文章进行摘录")]),w])}const U=e(r,[["render",z],["__file","flash.html.vue"]]);export{U as default};
